server: waiting for connections...
server: got connection from 127.0.0.1
recvd: 393
packet got from client 

GET /output3.webm HTTP/1.1
Host: localhost:25001
Connection: keep-alive
Cache-Control: max-age=0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Accept-Encoding: gzip,deflate,sdch
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4


client: connecting to 74.125.24.84
client: connecting to 74.125.24.95
it's content length : 304
now print size: 186908077
now print url: https://doc-14-as-docs.googleusercontent.com/docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true
Range data, isRange 0, getStart 0 getEnd 0 
is it set ? 0
lets look at the google header 

 GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true HTTP/1.1
Host: doc-14-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Authorization: Bearer ya29.3gD6zEUQX4zH6C0ZnXdSXw4ugOYZDWbCSLYvmNfFmgBWTfAV-UYbE7_Kurbfz-9x-xLlzSI42Phcbg



client: connecting to 74.125.24.132
packet sent to google 

GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true HTTP/1.1
Host: doc-14-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Authorization: Bearer ya29.3gD6zEUQX4zH6C0ZnXdSXw4ugOYZDWbCSLYvmNfFmgBWTfAV-UYbE7_Kurbfz-9x-xLlzSI42Phcbg


the packet from google 

HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Access-Control-Allow-Credentials: false
Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, Cache-Control, Content-Disposition, Content-Encoding, Content-Language, Content-Length, Content-MD5, Content-Range, Content-Type, Date, GData-Version, Host, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Origin, OriginToken, Pragma, Range, Slug, Transfer-Encoding, X-ClientDetails, X-GData-Client, X-GData-Key, X-Goog-AuthUser, X-Goog-PageId, X-Goog-Encode-Response-If-Executable, X-Goog-Correlation-Id, X-Goog-Request-Info, X-Goog-Experiments, x-goog-iam-role, x-goog-iam-authorization-token, X-Goog-Spatula, X-Goog-Upload-Command, X-Goog-Upload-Content-Disposition, X-Goog-Upload-Content-Length, X-Goog-Upload-Content-Type, X-Goog-Upload-File-Name, X-Goog-Upload-Offset, X-Goog-Upload-Protocol, X-Goog-Visitor-Id, X-HTTP-Method-Override, X-JavaScript-User-Agent, X-Pan-Versionid, X-Origin, X-Referer, X-Upload-Content-Length, X-Upload-Content-Type, X-Use-HTTP-Status-Code-Override, X-YouTube-VVT, X-YouTube-Page-CL, X-YouTube-Page-Timestamp
Access-Control-Allow-Methods: GET,OPTIONS
Content-Type: video/webm
Content-Disposition: attachment;filename="output3.webm";filename*=UTF-8''output3.webm
Date: Tue, 16 Dec 2014 21:43:41 GMT
Expires: Tue, 16 Dec 2014 21:43:41 GMT
Cache-Control: private, max-age=0
X-Goog-Hash: crc32c=JOtuCQ==
Transfer-Encoding: chunked
Server: UploadServer ("Built on Dec 2 2014 12:42:30 (1417552950)")
Alternate-Protocol: 443:quic,p=0.02


it's chunked
statusCode : 200
sending the whole file
packet Sent to client response: 

HTTP/1.1 200 OK
Serserver: waiting for connections...
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
recvd: 387
packet got from client 

GET /output3.webm HTTP/1.1
Host: localhost:25001
Connection: keep-alive
Cache-Control: max-age=0
Accept-Encoding: identity;q=1, *;q=0
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Accept: */*
Referer: http://localhost:25001/output3.webm
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=0-


client: connecting to 74.125.24.84
client: connecting to 74.125.24.95
it's content length : 304
now print size: 186908077
now print url: https://doc-14-as-docs.googleusercontent.com/docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true
Range data, isRange 1, getStart 0 getEnd 0 
is it set ? 0
lets look at the google header 

 GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true HTTP/1.1
Host: doc-14-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=0-
Authorization: Bearer ya29.3gAp0wg7us0f5SMTrSND3V6Lh89dv7GZVpY1_3m0_BZyTRcXD3fzewb1QOL9F8FRgfYyB45a3C58GQ



client: connecting to 74.125.24.132
packet sent to google 

GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true HTTP/1.1
Host: doc-14-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=0-
Authorization: Bearer ya29.3gAp0wg7us0f5SMTrSND3V6Lh89dv7GZVpY1_3m0_BZyTRcXD3fzewb1QOL9F8FRgfYyB45a3C58GQ


the packet from google 

HTTP/1.1 206 Partial Content
Access-Control-Allow-Origin: *
Access-Control-Allow-Credentials: false
Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, Cache-Control, Content-Disposition, Content-Encoding, Content-Language, Content-Length, Content-MD5, Content-Range, Content-Type, Date, GData-Version, Host, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Origin, OriginToken, Pragma, Range, Slug, Transfer-Encoding, X-ClientDetails, X-GData-Client, X-GData-Key, X-Goog-AuthUser, X-Goog-PageId, X-Goog-Encode-Response-If-Executable, X-Goog-Correlation-Id, X-Goog-Request-Info, X-Goog-Experiments, x-goog-iam-role, x-goog-iam-authorization-token, X-Goog-Spatula, X-Goog-Upload-Command, X-Goog-Upload-Content-Disposition, X-Goog-Upload-Content-Length, X-Goog-Upload-Content-Type, X-Goog-Upload-File-Name, X-Goog-Upload-Offset, X-Goog-Upload-Protocol, X-Goog-Visitor-Id, X-HTTP-Method-Override, X-JavaScript-User-Agent, X-Pan-Versionid, X-Origin, X-Referer, X-Upload-Content-Length, X-Upload-Content-Type, X-Use-HTTP-Status-Code-Override, X-YouTube-VVT, X-YouTube-Page-CL, X-YouTube-Page-Timestamp
Access-Control-Allow-Methods: GET,OPTIONS
Content-Range: bytes 0-186908076/186908077
Content-Type: video/webm
Content-Disposition: attachment;filename="output3.webm";filename*=UTF-8''output3.webm
Date: Tue, 16 Dec 2014 21:43:42 GMT
Expires: Tue, 16 Dec 2014 21:43:42 GMT
Cache-Control: private, max-age=0
X-Goog-Hash: crc32c=JOtuCQ==
Transfer-Encoding: chunked
Server: UploadServer ("Built on Dec 2 2014 12:42:30 (1417552950)")
Alternate-Protocol: 443:quic,p=0.02


it's chunked
statusCode : 206
google is sending us a ranged file, this is trouble because of how we deal with chunking
packet Sent to client response: 

HTTP/1.1 206 Partial Content
Server: nginx/1.4.6 (Ubuntu)
Connection: keep-alive
Accept-Ranges: bytes
Content-Range: bytes 0-186908076/186908077
Content-length: 186908077



we're done apparently
server: waiting for connections...
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
recvd: 295
packet got from client 

GET /favicon.ico HTTP/1.1
Host: localhost:25001
Connection: keep-alive
Accept: */*
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Accept-Encoding: gzip,deflate,sdch
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4


client: connecting to 74.125.24.84
client: connecting to 74.125.24.95
it's content length : 580
now print size: 1150
now print url: https://doc-08-as-docs.googleusercontent.com/docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/2ejolvrm0cbmoh7u6jnuv3sc7nrvko0j/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4WkV5LVBOOHZwQlU?e=download&gd=true
Range data, isRange 0, getStart 0 getEnd 0 
is it set ? 0
lets look at the google header 

 GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/2ejolvrm0cbmoh7u6jnuv3sc7nrvko0j/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4WkV5LVBOOHZwQlU?e=download&gd=true HTTP/1.1
Host: doc-08-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Authorization: Bearer ya29.3gDSPB3BLAnepwKR63l4jgBzPm51O3tvds7gQkaI728YeC-4_zIvE7TCTucZWG-BcnGuDxVKRjTAEg



client: connecting to 74.125.24.132
packet sent to google 

GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/2ejolvrm0cbmoh7u6jnuv3sc7nrvko0j/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4WkV5LVBOOHZwQlU?e=download&gd=true HTTP/1.1
Host: doc-08-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Authorization: Bearer ya29.3gDSPB3BLAnepwKR63l4jgBzPm51O3tvds7gQkaI728YeC-4_zIvE7TCTucZWG-BcnGuDxVKRjTAEg


the packet from google 

HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Access-Control-Allow-Credentials: false
Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, Cache-Control, Content-Disposition, Content-Encoding, Content-Language, Content-Length, Content-MD5, Content-Range, Content-Type, Date, GData-Version, Host, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Origin, OriginToken, Pragma, Range, Slug, Transfer-Encoding, X-ClientDetails, X-GData-Client, X-GData-Key, X-Goog-AuthUser, X-Goog-PageId, X-Goog-Encode-Response-If-Executable, X-Goog-Correlation-Id, X-Goog-Request-Info, X-Goog-Experiments, x-goog-iam-role, x-goog-iam-authorization-token, X-Goog-Spatula, X-Goog-Upload-Command, X-Goog-Upload-Content-Disposition, X-Goog-Upload-Content-Length, X-Goog-Upload-Content-Type, X-Goog-Upload-File-Name, X-Goog-Upload-Offset, X-Goog-Upload-Protocol, X-Goog-Visitor-Id, X-HTTP-Method-Override, X-JavaScript-User-Agent, X-Pan-Versionid, X-Origin, X-Referer, X-Upload-Content-Length, X-Upload-Content-Type, X-Use-HTTP-Status-Code-Override, X-YouTube-VVT, X-YouTube-Page-CL, X-YouTube-Page-Timestamp
Access-Control-Allow-Methods: GET,OPTIONS
Content-Type: image/x-icon
Content-Disposition: attachment;filename="favicon.ico";filename*=UTF-8''favicon.ico
Date: Tue, 16 Dec 2014 21:43:43 GMT
Expires: Tue, 16 Dec 2014 21:43:43 GMT
Cache-Control: private, max-age=0
X-Goog-Hash: crc32c=wGjQ1Q==
Content-Length: 1150
Server: UploadServer ("Built on Dec 2 2014 12:42:30 (1417552950)")
Alternate-Protocol: 443:quic,p=0.02


it's content length : 1150
statusCode : 200
it's good the way it is
packet Sent to client response: 

HTTP/1.1 200 OK
Server: nginx/1.4.6 (Ubuntu)
Connection: keep-alive
Accept-Ranges: bytes
Content-length: 1150



we're done apparently
server: waiting for connections...
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
recvd: 369
packet got from client 

GET /output3.webm HTTP/1.1
Host: localhost:25001
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Accept: */*
Referer: http://localhost:25001/output3.webm
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=186896679-


client: connecting to 74.125.24.84
client: connecting to 74.125.24.95
it's content length : 304
now print size: 186908077
now print url: https://doc-14-as-docs.googleusercontent.com/docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true
Range data, isRange 1, getStart 186896679 getEnd 0 
is it set ? 0
lets look at the google header 

 GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true HTTP/1.1
Host: doc-14-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=186896679-
Authorization: Bearer ya29.3gC3Qc44TYW6IQeFwSMlL2L24zLQwfAZCTEXtRMXV9HCc3OedmTwfBMIF8C7zl0sYeAbta88eo_kMg



client: connecting to 74.125.24.132
packet sent to google 

GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true HTTP/1.1
Host: doc-14-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=186896679-
Authorization: Bearer ya29.3gC3Qc44TYW6IQeFwSMlL2L24zLQwfAZCTEXtRMXV9HCc3OedmTwfBMIF8C7zl0sYeAbta88eo_kMg


the packet from google 

HTTP/1.1 206 Partial Content
Access-Control-Allow-Origin: *
Access-Control-Allow-Credentials: false
Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, Cache-Control, Content-Disposition, Content-Encoding, Content-Language, Content-Length, Content-MD5, Content-Range, Content-Type, Date, GData-Version, Host, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Origin, OriginToken, Pragma, Range, Slug, Transfer-Encoding, X-ClientDetails, X-GData-Client, X-GData-Key, X-Goog-AuthUser, X-Goog-PageId, X-Goog-Encode-Response-If-Executable, X-Goog-Correlation-Id, X-Goog-Request-Info, X-Goog-Experiments, x-goog-iam-role, x-goog-iam-authorization-token, X-Goog-Spatula, X-Goog-Upload-Command, X-Goog-Upload-Content-Disposition, X-Goog-Upload-Content-Length, X-Goog-Upload-Content-Type, X-Goog-Upload-File-Name, X-Goog-Upload-Offset, X-Goog-Upload-Protocol, X-Goog-Visitor-Id, X-HTTP-Method-Override, X-JavaScript-User-Agent, X-Pan-Versionid, X-Origin, X-Referer, X-Upload-Content-Length, X-Upload-Content-Type, X-Use-HTTP-Status-Code-Override, X-YouTube-VVT, X-YouTube-Page-CL, X-YouTube-Page-Timestamp
Access-Control-Allow-Methods: GET,OPTIONS
Content-Range: bytes 186896679-186908076/186908077
Content-Type: video/webm
Content-Disposition: attachment;filename="output3.webm";filename*=UTF-8''output3.webm
Date: Tue, 16 Dec 2014 21:43:44 GMT
Expires: Tue, 16 Dec 2014 21:43:44 GMT
Cache-Control: private, max-age=0
Content-Length: 11398
Server: UploadServer ("Built on Dec 2 2014 12:42:30 (1417552950)")
Alternate-Protocol: 443:quic,p=0.02


it's content length : 11398
statusCode : 206
google is sending us a ranged file, this is trouble because of how we deal with chunking
packet Sent to client response: 

HTTP/1.1 206 Partial Content
Server: nginx/1.4.6 (Ubuntu)
Connection: keep-alive
Accept-Ranges: bytes
Content-Range: bytes 186896679-186908076/186908077
Content-length: 11398



we're done apparently
server: waiting for connections...
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
recvd: 369
packet got from client 

GET /output3.webm HTTP/1.1
Host: localhost:25001
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Accept: */*
Referer: http://localhost:25001/output3.webm
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=172840109-


client: connecting to 74.125.24.84
client: connecting to 74.125.24.95
it's content length : 304
now print size: 186908077
now print url: https://doc-14-as-docs.googleusercontent.com/docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true
Range data, isRange 1, getStart 172840109 getEnd 0 
is it set ? 0
lets look at the google header 

 GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true HTTP/1.1
Host: doc-14-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=172840109-
Authorization: Bearer ya29.3gCmRJzMoBhW-3FmhctdDgTUCSJ4s5MWXZIwygUxtKG1MIndRWXbdJum-xjE6V0jFkqyilrMA3r7WQ



client: connecting to 74.125.24.132
packet sent to google 

GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true HTTP/1.1
Host: doc-14-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=172840109-
Authorization: Bearer ya29.3gCmRJzMoBhW-3FmhctdDgTUCSJ4s5MWXZIwygUxtKG1MIndRWXbdJum-xjE6V0jFkqyilrMA3r7WQ


the packet from google 

HTTP/1.1 206 Partial Content
Access-Control-Allow-Origin: *
Access-Control-Allow-Credentials: false
Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, Cache-Control, Content-Disposition, Content-Encoding, Content-Language, Content-Length, Content-MD5, Content-Range, Content-Type, Date, GData-Version, Host, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Origin, OriginToken, Pragma, Range, Slug, Transfer-Encoding, X-ClientDetails, X-GData-Client, X-GData-Key, X-Goog-AuthUser, X-Goog-PageId, X-Goog-Encode-Response-If-Executable, X-Goog-Correlation-Id, X-Goog-Request-Info, X-Goog-Experiments, x-goog-iam-role, x-goog-iam-authorization-token, X-Goog-Spatula, X-Goog-Upload-Command, X-Goog-Upload-Content-Disposition, X-Goog-Upload-Content-Length, X-Goog-Upload-Content-Type, X-Goog-Upload-File-Name, X-Goog-Upload-Offset, X-Goog-Upload-Protocol, X-Goog-Visitor-Id, X-HTTP-Method-Override, X-JavaScript-User-Agent, X-Pan-Versionid, X-Origin, X-Referer, X-Upload-Content-Length, X-Upload-Content-Type, X-Use-HTTP-Status-Code-Override, X-YouTube-VVT, X-YouTube-Page-CL, X-YouTube-Page-Timestamp
Access-Control-Allow-Methods: GET,OPTIONS
Content-Range: bytes 172840109-186908076/186908077
Content-Type: video/webm
Content-Disposition: attachment;filename="output3.webm";filename*=UTF-8''output3.webm
Date: Tue, 16 Dec 2014 21:43:44 GMT
Expires: Tue, 16 Dec 2014 21:43:44 GMT
Cache-Control: private, max-age=0
Transfer-Encoding: chunked
Server: UploadServer ("Built on Dec 2 2014 12:42:30 (1417552950)")
Alternate-Protocol: 443:quic,p=0.02


it's chunked
statusCode : 206
google is sending us a ranged file, this is trouble because of how we deal with chunking
packet Sent to client response: 

HTTP/1.1 206 Partial Content
Server: nginx/1.4.6 (Ubuntu)
Connection: keep-alive
Accept-Ranges: bytes
Content-Range: bytes 172840109-186908076/186908077
Content-length: 14067968



we're done apparently
server: waiting for connections...
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
server: got connection from 127.0.0.1
recvd: 368
packet got from client 

GET /output3.webm HTTP/1.1
Host: localhost:25001
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Accept: */*
Referer: http://localhost:25001/output3.webm
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=85955882-


client: connecting to 74.125.24.84
client: connecting to 74.125.24.95
it's content length : 304
now print size: 186908077
now print url: https://doc-14-as-docs.googleusercontent.com/docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true
Range data, isRange 1, getStart 85955882 getEnd 0 
is it set ? 0
lets look at the google header 

 GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true HTTP/1.1
Host: doc-14-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=85955882-
Authorization: Bearer ya29.3gBaYa78bXV3uYNlo6QNeyuWw6TpBZC9d4RGZ6pnLIuim4dRcwexai8mEujRvMuAJk0BISU0iPDLvQ



client: connecting to 74.125.24.132
packet sent to google 

GET /docs/securesc/he9unpj0rh27t96v09626udpvmum8vcs/vg54n9kgruh4jfku6amuumpm5tkfpcep/1418760000000/13058876669334088843/00377112155790015384/0B7_KKsaOads4VHNXMVV5RWlLd1k?e=download&gd=true HTTP/1.1
Host: doc-14-as-docs.googleusercontent.com
Connection: keep-alive
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36
Connection: keep-alive
Accept-Encoding: identity;q=1, *;q=0
Accept-Language: en-US,en;q=0.8,nl;q=0.6,ru;q=0.4
Range: bytes=85955882-
Authorization: Bearer ya29.3gBaYa78bXV3uYNlo6QNeyuWw6TpBZC9d4RGZ6pnLIuim4dRcwexai8mEujRvMuAJk0BISU0iPDLvQ


the packet from google 

HTTP/1.1 206 Partial Content
Access-Control-Allow-Origin: *
Access-Control-Allow-Credentials: false
Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, Cache-Control, Content-Disposition, Content-Encoding, Content-Language, Content-Length, Content-MD5, Content-Range, Content-Type, Date, GData-Version, Host, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Origin, OriginToken, Pragma, Range, Slug, Transfer-Encoding, X-ClientDetails, X-GData-Client, X-GData-Key, X-Goog-AuthUser, X-Goog-PageId, X-Goog-Encode-Response-If-Executable, X-Goog-Correlation-Id, X-Goog-Request-Info, X-Goog-Experiments, x-goog-iam-role, x-goog-iam-authorization-token, X-Goog-Spatula, X-Goog-Upload-Command, X-Goog-Upload-Content-Disposition, X-Goog-Upload-Content-Length, X-Goog-Upload-Content-Type, X-Goog-Upload-File-Name, X-Goog-Upload-Offset, X-Goog-Upload-Protocol, X-Goog-Visitor-Id, X-HTTP-Method-Override, X-JavaScript-User-Agent, X-Pan-Versionid, X-Origin, X-Referer, X-Upload-Content-Length, X-Upload-Content-Type, X-Use-HTTP-Status-Code-Override, X-YouTube-VVT, X-YouTube-Page-CL, X-YouTube-Page-Timestamp
Access-Control-Allow-Methods: GET,OPTIONS
Content-Range: bytes 85955882-186908076/186908077
Content-Type: video/webm
Content-Disposition: attachment;filename="output3.webm";filename*=UTF-8''output3.webm
Date: Tue, 16 Dec 2014 21:43:47 GMT
Expires: Tue, 16 Dec 2014 21:43:47 GMT
Cache-Control: private, max-age=0
Transfer-Encoding: chunked
Server: UploadServer ("Built on Dec 2 2014 12:42:30 (1417552950)")
Alternate-Protocol: 443:quic,p=0.02


it's chunked
statusCode : 206
google is sending us a ranged file, this is trouble because of how we deal with chunking
packet Sent to client response: 

HTTP/1.1 206 Partial Content
Server: nginx/1.4.6 (Ubuntu)
Connection: keep-alive
Accept-Ranges: bytes
Content-Range: bytes 85955882-186908076/186908077
Content-length: 100952195



we're done apparently
